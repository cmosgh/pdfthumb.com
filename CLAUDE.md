# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Development Commands

### Core Development
- `npm run dev` - Start development server on http://localhost:5173
- `npm run build` - Build for production (creates `dist/` directory)  
- `npm run preview` - Preview production build on http://localhost:4173

### Testing
- `npx playwright test` - Run end-to-end tests
- `npx playwright test --ui` - Run tests in interactive mode
- `npx playwright show-report` - View test results

### Code Quality
- Use `npm run commit` or `./node_modules/.bin/git-cz` for conventional commits
- All commit messages must follow Conventional Commits specification
- Prettier is configured but uses default settings (empty .prettierrc)

## Architecture Overview

### Tech Stack
- **Frontend Framework**: React 19 with TypeScript
- **Build Tool**: Vite 7 with Lightning CSS for Tailwind processing
- **Routing**: TanStack Router with file-based routing in `src/routes/`
- **Styling**: Tailwind CSS 4 (using @tailwindcss/vite plugin)
- **Testing**: Playwright for E2E testing

### Project Structure
```
src/
├── routes/          # TanStack Router file-based routes
│   ├── __root.tsx   # Root layout with Navbar/Footer
│   ├── index.tsx    # Landing page route
│   └── login.tsx    # Login page route
├── components/      # React components
├── hooks/           # Custom React hooks (e.g., useTheme)
├── api.ts          # API configuration
├── router.tsx      # Router setup and type declarations
├── routeTree.gen.ts # Auto-generated route tree (do not edit)
└── main.tsx        # Application entry point
```

### Key Architectural Patterns

**TanStack Router Integration**:
- File-based routing in `src/routes/` directory
- `routeTree.gen.ts` is auto-generated by the Vite plugin
- Root layout (`__root.tsx`) provides app shell with Navbar, Footer, and theme management
- Route type safety through TypeScript module augmentation in `router.tsx`

**Environment Configuration**:
- Vite config exposes `GEMINI_API_KEY` and `API_URL` environment variables
- API proxy configured to redirect `/api` requests to `http://localhost:3000`
- Path alias `@/*` maps to `./src/*`

**Component Organization**:
- Functional components with TypeScript
- Named exports preferred over default exports
- Custom hooks for reusable logic (e.g., `useTheme`)
- Tailwind utility classes for styling

**Testing Setup**:
- Playwright configured for Chromium, Firefox, and WebKit
- Tests run against production build (`npm run build && npm run preview`)
- Base URL: http://localhost:4173
- Test directory: `./tests/`

## Important Notes

- Always run `npm run build` before committing to ensure production builds work
- The `routeTree.gen.ts` file is auto-generated - never edit it manually  
- Use Node.js 22+ for development
- Environment variables are exposed at build time via Vite's define config
- Tailwind CSS 4 uses new configuration approach via Vite plugin